"use strict";(self.webpackChunkphonebook_app=self.webpackChunkphonebook_app||[]).push([[228],{4490:function(t,e,n){n.d(e,{Z:function(){return c}});var o=n(9439),a=n(2791),r=n(3360),i=n(6203),s=n(3329);function c(t){var e=t.onClick,n=t.title,c=(0,a.useContext)(i.N).theme,l=(0,a.useState)(""),u=(0,o.Z)(l,2),d=u[0],m=u[1];return(0,a.useEffect)((function(){m("light"===c?"outline-dark":"dark")}),[c]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.Z,{variant:d,type:"submit",onClick:e,children:n})})}},4815:function(t,e,n){n.r(e),n.d(e,{default:function(){return $}});var o=n(9439),a=n(9434),r=n(2791),i=n(5861),s=n(4687),c=n.n(s),l=n(1243);l.Z.defaults.baseURL="https://connections-api.herokuapp.com";var u=function(t){return l.Z.post("/contacts",t).then((function(t){return t.data}))},d=function(t){return l.Z.delete("/contacts/".concat(t.id)).then((function(t){return t.data}))},m=n(4443),h=n(66),_=function(){return function(){var t=(0,i.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e((0,m.$0)()),t.prev=1,t.next=4,l.Z.get("/contacts").then((function(t){return t.data}));case 4:return n=t.sent,t.abrupt("return",e((0,m.v2)(n)));case 8:return t.prev=8,t.t0=t.catch(1),"Something went wrong. Wait a minute or two!",(0,h.Z)("Something went wrong. Wait a minute or two!"),t.abrupt("return",e((0,m.I7)(t.t0.message)));case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(t){var e=t.name,n=t.number;return function(){var t=(0,i.Z)(c().mark((function t(o){var a,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,m.md)()),a={name:e,number:n},t.prev=2,t.next=5,u(a);case 5:return r=t.sent,t.abrupt("return",o((0,m.ff)(r)));case 9:return t.prev=9,t.t0=t.catch(2),"The form was not submitted properly. Try again!",(0,h.Z)("The form was not submitted properly. Try again!"),t.abrupt("return",o((0,m.xZ)(t.t0.message)));case 14:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(t){return function(){var e=(0,i.Z)(c().mark((function e(n){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,m.us)()),e.prev=1,e.next=4,d(t);case 4:return o=e.sent,e.abrupt("return",n((0,m.uv)(o)));case 8:return e.prev=8,e.t0=e.catch(1),"Something went wrong. Wait a minute or two and try again!",(0,h.Z)("Something went wrong. Wait a minute or two and try again!"),e.abrupt("return",n((0,m.EF)(e.t0.message)));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return t.contacts.items},v=function(t){return t.contacts.filter},b=function(t){var e=x(t),n=v(t).toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))},j={ContactsField:"PhonebookPage_ContactsField__+O53l",ModalButtonField:"PhonebookPage_ModalButtonField__s20wB"},w=n(5250),k=n(7153),F=n(8156),C=n(6203),N=n(1694),g=n.n(N),Z={ProgressBar:"Scroll_ProgressBar__SxS-W",dark:"Scroll_dark__QWV37"},y=n(3329);function B(){var t=(0,k.v)().scrollYProgress,e=(0,r.useContext)(C.N).theme,n=(0,F.q)(t,{stiffness:100,damping:30,restDelta:.001});return(0,y.jsx)(w.E.div,{className:g()(Z.ProgressBar,Z[e]),style:{scaleX:n}})}var P=n(6199),M="Section_Section__PObfM",L="Section_SectionTitle__kxXvJ",S=function(t){var e=t.children,n=t.title;return(0,y.jsxs)("div",{className:M,children:[n&&(0,y.jsx)("h1",{className:L,children:n}),e]})},D=n(8240),T=n(3027),I={PhonebookForm:"PhonebookForm_PhonebookForm__iKNWk",dark:"PhonebookForm_dark__uN5wF",PhonebookFormTitle:"PhonebookForm_PhonebookFormTitle__NV9M7",PhonebookFormOverlay:"PhonebookForm_PhonebookFormOverlay__mZjfl",PhonebookFormText:"PhonebookForm_PhonebookFormText__Z7ioq",PhonebookFormLabel:"PhonebookForm_PhonebookFormLabel__EXIRM",FormInput:"PhonebookForm_FormInput__SRhhQ",shake:"PhonebookForm_shake__Ih6JA"},E=n(4490);function W(t){var e=t.onSubmit,n=t.onHide,i=t.modalShow,s=(0,r.useState)(""),c=(0,o.Z)(s,2),l=c[0],u=c[1],d=(0,r.useState)(""),m=(0,o.Z)(d,2),_=m[0],f=m[1],p=(0,a.v9)(x),v=(0,r.useContext)(C.N).theme,b=function(t){var e=t.currentTarget,n=e.name,o=e.value;switch(n){case"name":u(o);break;case"number":f(o);break;default:console.warn("Field type - ".concat(n," is not processed"))}},j=function(){u(""),f("")};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(w.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:1.5}},exit:{opacity:0,transition:{duration:1.5}},className:g()(I.PhonebookForm,I[v]),children:[(0,y.jsx)("div",{className:g()(I.PhonebookFormOverlay,I[v])}),(0,y.jsx)("h2",{className:I.PhonebookFormTitle,children:"Phonebook"}),(0,y.jsx)("p",{className:g()(I.PhonebookFormText,I[v]),children:" Stay connected and in control of your contact information with just a few taps. Let's get started with the simple app. Happy organizing!"}),(0,y.jsxs)(T.Z,{onSubmit:function(t){t.preventDefault();var o={name:l,number:_};if(p.find((function(t){return t.name===l||t.number===_}))){(0,h.Z)("User with this name or number is already in contacts!")}else e(o),j(),i&&n()},children:[(0,y.jsxs)(T.Z.Floating,{className:"mb-3",children:[(0,y.jsx)(T.Z.Control,{className:I.FormInput,id:"floatingInputCustom",type:"text",name:"name",value:l,placeholder:"Adam Parrish",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adam Parrish",onChange:b,required:!0}),(0,y.jsx)("label",{htmlFor:"floatingInputCustom",className:g()(I.PhonebookFormLabel,I[v]),children:"Name"})]}),(0,y.jsxs)(T.Z.Floating,{className:"mb-3",children:[(0,y.jsx)(T.Z.Control,{className:I.FormInput,id:"floatingNumberCustom",type:"tel",name:"number",value:_,placeholder:"Phone number",pattern:"\\+?\\d+",title:"Phone number must be digits and can start with +",onChange:b,required:!0}),(0,y.jsx)("label",{htmlFor:"floatingNumberCustom",className:g()(I.PhonebookFormLabel,I[v]),children:"Phone number"})]}),(0,y.jsx)("div",{className:"d-grid gap-2",children:(0,y.jsx)(E.Z,{className:I.SubmitBtnField,title:"Add conctact"})})]})]})})}var z="Filter_FilterLabel__W6MKM",A="Filter_FilterInput__+uuEA",H=function(t){var e=t.value,n=t.onChange;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(T.Z.Group,{className:"mb-3",controlId:"formGroupInput",children:[(0,y.jsx)(T.Z.Label,{className:z,children:"Find contact by name:"}),(0,y.jsx)(T.Z.Control,{className:A,type:"text",placeholder:"Adam Parrish",value:e,onChange:n})]})})},q=n(3791),O={ContactsList:"ContactsList_ContactsList__vMNnS",Notification:"ContactsList_Notification__KqIHv",NotificationTitle:"ContactsList_NotificationTitle__MhkF9",dark:"ContactsList_dark__ci8j3",ContactsItem:"ContactsList_ContactsItem__x0tub",ContactName:"ContactsList_ContactName__qYhLD",DeleteButton:"ContactsList_DeleteButton__CMvaA",DeleteModalField:"ContactsList_DeleteModalField__CFwpg",DeleteModalTitle:"ContactsList_DeleteModalTitle__vpJMB",DeleteModalButton:"ContactsList_DeleteModalButton__B5jtI"},U=n(3360),G=n(1413),K=n(5316);function Q(t){return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(K.Z,(0,G.Z)((0,G.Z)({},t),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,y.jsx)(K.Z.Header,{closeButton:!0}),(0,y.jsx)(K.Z.Body,{children:t.children})]}))})}function X(t){var e=t.contacts,n=t.deleteContact,a=(0,r.useContext)(C.N).theme,i=(0,r.useState)(!1),s=(0,o.Z)(i,2),c=s[0],l=s[1],u=(0,r.useState)(),d=(0,o.Z)(u,2),m=d[0],h=d[1],_=function(){return l(!1)};return(0,y.jsx)("ul",{className:O.ContactsList,children:0===e.length?(0,y.jsxs)("p",{className:g()(O.Notification,O[a]),children:[(0,y.jsx)("span",{className:g()(O.NotificationTitle,O[a]),children:"No contacts"})," Contacts you've added will appear here."]}):(0,y.jsxs)(q.M,{initial:!1,children:[e.map((function(t){return(0,y.jsxs)(w.E.li,{initial:{opacity:0,x:100},animate:{opacity:1,x:0,transition:{duration:.3}},exit:{opacity:0,scale:.5,transition:{duration:.3}},className:g()(O.ContactsItem,O[a]),children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("span",{className:O.ContactName,children:[t.name,":"]}),(0,y.jsx)("span",{children:t.number})]}),(0,y.jsx)(U.Z,{className:O.DeleteButton,variant:"danger",type:"submit",onClick:function(){!function(t){h(t),l(!0)}(t)},children:"Delete"})]},t.id)})),(0,y.jsx)(Q,{show:c,onHide:_,children:(0,y.jsxs)("div",{className:O.DeleteModalField,children:[(0,y.jsx)(w.E.h4,{variants:{hidden:{opacity:0,y:-25},visible:{opacity:1,y:0,transition:{duration:.8}}},className:O.DeleteModalTitle,children:"Are you sure?"}),(0,y.jsxs)("div",{children:[(0,y.jsx)(U.Z,{variant:"danger",className:O.DeleteModalButton,onClick:function(){n(m),_()},children:"Delete"}),(0,y.jsx)(U.Z,{variant:"outline-dark",onClick:function(){_()},children:"Cancel"})]})]})})]})})}function J(t){return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(K.Z,(0,G.Z)((0,G.Z)({},t),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,y.jsx)(K.Z.Header,{closeButton:!0}),(0,y.jsx)(K.Z.Body,{children:t.children})]}))})}var R={Button:"ModalButton_Button__dUwFX",dark:"ModalButton_dark__ylpUm",ButtonText:"ModalButton_ButtonText__VG3xP",ButtonLine:"ModalButton_ButtonLine__FnzqB",ButtonDrow1:"ModalButton_ButtonDrow1__6sWIH",ButtonDrow2:"ModalButton_ButtonDrow2__sS8Qm",drow1:"ModalButton_drow1__+jylh",drow2:"ModalButton_drow2__oW6Io",drow3:"ModalButton_drow3__W6bTU",drow4:"ModalButton_drow4__MYQCb",drow5:"ModalButton_drow5__GOLhK"};function V(t){var e=t.onClick,n=(0,r.useContext)(C.N).theme;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("button",{className:g()(R.Button,R[n]),onClick:e,type:"button",children:[(0,y.jsx)("div",{className:g()(R.ButtonLine,R[n])}),(0,y.jsx)("div",{className:g()(R.ButtonLine,R[n])}),(0,y.jsx)("span",{className:g()(R.ButtonText,R[n]),children:"New contact"}),(0,y.jsx)("div",{className:g()(R.ButtonDrow1,R[n])}),(0,y.jsx)("div",{className:g()(R.ButtonDrow2,R[n])})]})})}var Y=n(451);function $(){var t=(0,a.I0)(),e=(0,a.v9)(b),n=(0,a.v9)(v),i=(0,r.useState)(!1),s=(0,o.Z)(i,2),c=s[0],l=s[1],u=(0,r.useState)(!1),d=(0,o.Z)(u,2),h=d[0],x=d[1],k=(0,r.useState)(window.innerWidth),F=(0,o.Z)(k,2),C=F[0],N=F[1],g=(0,r.useCallback)((function(e){t(f(e))}),[t]),Z=(0,r.useCallback)((function(e){t((0,m.xO)(e.currentTarget.value))}),[t]),M=(0,r.useCallback)((function(e){t(p(e))}),[t]),L=function(){return l(!1)},T=function(){N(window.innerWidth)};(0,r.useEffect)((function(){t(_())}),[t]),(0,r.useEffect)((function(){return window.addEventListener("resize",T),function(){window.removeEventListener("resize",T)}}),[]),(0,r.useEffect)((function(){var t=function(){var t=document.body.scrollHeight,e=window.innerHeight;x(t>e)};return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}}),[]);var I={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:1.5}}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(w.E.div,{initial:"hidden",animate:"visible",exit:{opacity:0,transition:{duration:1}},children:[h&&(0,y.jsx)(B,{}),(0,y.jsxs)(P.Z,{children:[(0,y.jsx)(D.Z,{}),(0,y.jsxs)(S,{children:[C>=1279?(0,y.jsx)(W,{onSubmit:g}):(0,y.jsxs)("div",{className:j.ModalButtonField,children:[(0,y.jsx)(V,{onClick:function(){return l(!0)}}),(0,y.jsx)(J,{show:c,onHide:L,children:(0,y.jsx)(W,{onSubmit:g,modalShow:c,onHide:L})})]}),(0,y.jsxs)("div",{className:j.ContactsField,children:[(0,y.jsx)(H,{value:n,onChange:Z}),(0,y.jsx)(w.E.div,{variants:I,children:(0,y.jsx)(X,{contacts:e,deleteContact:M})})]})]})]})]}),(0,y.jsx)(Y.Z,{})]})}}}]);
//# sourceMappingURL=228.ce7909ec.chunk.js.map